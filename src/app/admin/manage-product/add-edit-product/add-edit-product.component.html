<ng-container *ngIf="(product$ | async) as product">
  <div class="pAppForm">
    <header>
      <h2>{{product.id_real ? 'Edit ' + product.title : 'Add product'}}</h2>
    </header>

    <div class="form-group">
      <label for="pProduct" >Title:</label><br />
      <input id="pProduct" class="form-control" name="Products" [(ngModel)]="product.title"/>
    </div>

    <label for="pPromoted" >Promoted:</label>
    <input type="checkbox" id="pPromoted" name="Promoted" [(ngModel)]="product.promoted"/>
    <br />
    <br />
    <div class="form-inline">
      <div class="form-group">
        <label for="pPrice" >Price:</label><br />
        <input type="number" id="pPrice" class="form-control" name="Price" min="0" step="10" [(ngModel)]="product.price"/>
      </div>

      <div class="form-group pInlineMargin">
        <label for="pAmount" >Amount:</label><br />
        <input type="number" id="pAmount" class="form-control" name="Amount" min="0" [(ngModel)]="product.amount"/>
      </div>
    </div>
    <br />

    <div class="form-group">
      <label for="pImg">Img URL:</label><br />
      <input type="url" id="pImg" class="form-control" name="Img" [(ngModel)]="product.imgUrl"/>
    </div>

    <div class="form-group">
      <label for="pCategoryOption">Category:</label><br />
      <select class="form-control" id="pCategoryOption" name="category" [(ngModel)]="product.category">
      <option *ngFor="let category of categories$ | async" [ngValue]="category.title" [selected]="product.category === category.title">{{category.title}}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="pProductDesc">Description:</label><br />
      <textarea id="pProductDesc" name="ProductDescription" class="form-control" placeholder="Type some text..." [(ngModel)]="product.description"></textarea>
    </div>

    <button class="btn btn-large pSubmitButton" (click)="product.id_real ? onEdit(product) : onAdd(product)">Save</button>
    <button class="btn btn-large pSubmitButton" (click)="onDelete(product.id_real)">Delete</button>

  </div>
</ng-container>
